(()=>{"use strict";var t,i,e,s,n={5008:(t,i,e)=>{e.d(i,{Z:()=>n});var s=e(50);class n{constructor(t,i,e=0){this.frames=t,this.interval=i,this.cycles=e,this.timer=new s.Z,this.currentFrame=0,this.timesPlayed=0,this.startTimer()}update(t){1!==this.frames.length&&this.timer.update(t)}startTimer(){this.timer.addTask((()=>{(0===this.cycles||this.timesPlayed<this.cycles)&&(this.currentFrame++,this.currentFrame%=this.frames.length,this.currentFrame===this.frames.length-1&&this.timesPlayed++)}),this.interval)}getCurrentFrame(){return this.frames[this.currentFrame]}refresh(){this.currentFrame=0,this.timesPlayed=0}isDone(){return this.timesPlayed===this.cycles}isHalfwayDone(){return this.currentFrame>=this.frames.length/2}}},1767:(t,i,e)=>{e.d(i,{b:()=>s});const s=(t,i,e,s,n,a=5,h=!1,o=!0)=>{t.save(),t.beginPath(),t.moveTo(i+a,e),t.lineTo(i+s-a,e),t.quadraticCurveTo(i+s,e,i+s,e+a),t.lineTo(i+s,e+n-a),t.quadraticCurveTo(i+s,e+n,i+s-a,e+n),t.lineTo(i+a,e+n),t.quadraticCurveTo(i,e+n,i,e+n-a),t.lineTo(i,e+a),t.quadraticCurveTo(i,e,i+a,e),t.closePath(),h&&t.fill(),o&&t.stroke(),t.restore()}},465:(t,i,e)=>{e.d(i,{Z:()=>s});class s{constructor(){this.fonts={}}load(t){t.forEach((t=>{const i=new FontFace(t.name,`url(${t.path})`);this.fonts[t.name]=i,i.load().then((t=>{document.fonts.add(t)}))}))}get(t){return this.fonts[t]}}},7785:(t,i,e)=>{e.d(i,{Z:()=>s});class s{constructor(t,i,e,s){this.stateMachine=t,this.context=i,this.width=e,this.height=s,this.lastTime=0}start(){this.gameLoop()}gameLoop(t=0){const i=(t-this.lastTime)/1e3;this.update(i),this.lastTime=t,requestAnimationFrame((t=>this.gameLoop(t)))}update(t){this.stateMachine.update(t),this.render()}render(){this.context.clearRect(0,0,this.width,this.height),this.stateMachine.render()}}},282:(t,i,e)=>{e.d(i,{Z:()=>a});var s=e(3928),n=e(8038);class a{constructor(t=0,i=0,e=0,s=0,n="red"){this.colour=n,this.set(t,i,e,s),this.isSolid=!0,this.isCollidable=!0,this.wasCollided=!0}set(t,i,e,s){this.position=new n.Z(t,i),this.dimensions=new n.Z(e,s)}didCollide(t){return i=this.position.x,e=this.position.y,s=this.dimensions.x,n=this.dimensions.y,a=t.position.x,h=t.position.y,o=t.dimensions.x,r=t.dimensions.y,i+s>=a&&i<=a+o&&e+n>=h&&e<=h+r;var i,e,s,n,a,h,o,r}getCollisionDirection(t){return((t,i,e,s,n,a,h,o)=>{const r=i+s-a,c=a+o-i,l=n+h-t,d=t+e-n;return c<r&&c<l&&c<d?0:r<c&&r<l&&r<d?1:l<d&&l<c&&l<r?2:d<l&&d<c&&d<r?3:void 0})(this.position.x,this.position.y,this.dimensions.x,this.dimensions.y,t.position.x,t.position.y,t.dimensions.x,t.dimensions.y)}render(t){t.save(),t.strokeStyle=this.colour,t.beginPath(),t.rect(this.position.x,this.position.y,this.dimensions.x,this.dimensions.y),t.stroke(),t.closePath(),t.restore()}onCollision(t){if(this.isSolid)switch(this.getCollisionDirection(t.hitbox)){case s.Z.Up:t.position.y=this.position.y-Math.abs(t.position.y-t.hitbox.position.y)-t.hitbox.dimensions.y-1;break;case s.Z.Down:t.position.y=this.position.y+this.dimensions.y-Math.abs(t.position.y-t.hitbox.position.y)+1;break;case s.Z.Left:t.position.x=this.position.x-Math.abs(t.position.x-t.hitbox.position.x)-t.hitbox.dimensions.x-1;break;case s.Z.Right:t.position.x=this.position.x+this.dimensions.x-Math.abs(t.position.x-t.hitbox.position.x)+1}this.wasCollided||(this.wasCollided=!0)}}},9595:(t,i,e)=>{e.d(i,{Z:()=>n});class s{constructor(t,i,e,s){this.image=new Image(i,e),this.image.src=t,this.width=i,this.height=e,this.context=s}render(t,i,e=this.width,s=this.height){this.context.drawImage(this.image,t,i,e,s)}}class n{constructor(t){this.context=t,this.images={}}load(t){t.forEach((t=>{this.images[t.name]=new s(t.path,t.width,t.height,this.context)}))}get(t){return this.images[t]}render(t,i,e,s=null,n=null){const a=this.get(t);a.render(i,e,s??a.width,n??a.height)}}},360:(t,i,e)=>{e.d(i,{D9:()=>s,eC:()=>n,n8:()=>a});const s=(t,i)=>Math.floor(Math.random()*(i-t+1))+t,n=t=>t[s(0,t.length-1)],a=t=>s(1,100)<=100*t},5735:(t,i,e)=>{e.d(i,{Z:()=>n});class s{constructor(t,i=1,e,s=!1){this.source=t,this.size=i,this.volume=e,this.loop=s,this.pool=[],this.currentSound=0,this.initializePool()}initializePool(){for(let t=0;t<this.size;t++){const t=new Audio(this.source);t.volume=this.volume,t.loop=this.loop,t.muted=!0,this.pool.push(t)}}play(){(0===this.pool[this.currentSound].currentTime||this.pool[this.currentSound].ended||this.pool[this.currentSound].paused)&&this.pool[this.currentSound].play(),this.currentSound=(this.currentSound+1)%this.size;for(let t=0;t<this.size;t++)this.pool[t].muted=!1}pause(){this.pool[this.currentSound].pause()}isPaused(){return this.pool[this.currentSound].paused}stop(){this.pause(),this.pool[this.currentSound].currentTime=0}}class n{constructor(){this.sounds={}}load(t){t.forEach((t=>{this.sounds[t.name]=new s(t.path,t.size,t.volume,t.loop)}))}get(t){return this.sounds[t]}play(t){this.get(t).play()}pause(t){this.get(t).pause()}stop(t){this.get(t).stop()}}},3378:(t,i,e)=>{e.d(i,{Z:()=>s});class s{constructor(t,i=0,e=0,s,n){this.graphic=t,this.x=i,this.y=e,this.width=s,this.height=n}render(t,i,e={x:1,y:1}){this.graphic.context.drawImage(this.graphic.image,this.x,this.y,this.width,this.height,t,i,this.width*e.x,this.height*e.y)}static generateSpritesFromSpriteSheet(t,i,e){const n=[],a=t.width/i,h=t.height/e;for(let o=0;o<h;o++)for(let h=0;h<a;h++)n.push(new s(t,h*i,o*e,i,e));return n}}},9313:(t,i,e)=>{e.d(i,{Z:()=>s});class s{enter(t){}exit(){}update(t){}render(){}}},7379:(t,i,e)=>{e.d(i,{Z:()=>s});class s{constructor(){this.states={}}add(t,i){i.name=t,this.states[t]=i,this.currentState=i}change(t,i){this.currentState.exit(),this.currentState=this.states[t],this.currentState.enter(i)}update(t){this.currentState.update(t)}render(t){this.currentState.render(t)}}},3083:(t,i,e)=>{e.d(i,{Z:()=>s});class s{constructor(){this.states=[]}update(t){this.top().update(t)}render(t){this.states.forEach((i=>i.render(t)))}push(t){this.states.push(t),this.top().enter()}pushWithProperty(t,i){this.states.push(t),this.top().enter(i)}pop(){return this.top().exit(),this.states.splice(this.states.length-1,1)[0]}top(){return this.states[this.states.length-1]}clear(){this.states=[]}}},50:(t,i,e)=>{e.d(i,{Z:()=>s});class s{constructor(){this.tasks=[]}update(t){this.updateTasks(t),this.removeFinishedTasks()}addTask(t,i,e=0,s=(()=>{})){const a=new n(t,i,e,s);return this.tasks.push(a),a}updateTasks(t){this.tasks.forEach((i=>{i.update(t)}))}removeFinishedTasks(){this.tasks=this.tasks.filter((t=>!t.isDone))}clear(){this.tasks=[]}tween(t,i,e,s,n=(()=>{})){const a=Object.assign({},t);return this.addTask((n=>{i.forEach(((i,h)=>{const o=e[h]-t[i]>0?1:-1,r=a[i],c=e[h],l=r+n/s*(c-r);t[i]=1===o?Math.min(c,l):Math.max(c,l)}))}),0,s,n)}async tweenAsync(t,i,e,s){return new Promise((n=>{this.tween(t,i,e,s,n)}))}wait(t,i=(()=>{})){return this.addTask((()=>{}),0,t,i)}async waitAsync(t){return new Promise((i=>{this.addTask((()=>{}),0,t,i)}))}}class n{constructor(t,i,e=0,s=(()=>{})){this.action=t,this.interval=i,this.intervalTimer=0,this.totalTime=0,this.duration=e,this.callback=s,this.isDone=!1}clear(){this.isDone=!0}update(t){this.intervalTimer+=t,this.totalTime+=t,0===this.interval?this.action(this.totalTime):this.intervalTimer>=this.interval&&(this.intervalTimer=0,this.action(t)),0!==this.duration&&this.totalTime>=this.duration&&(this.callback(),this.isDone=!0)}}},8038:(t,i,e)=>{e.d(i,{Z:()=>s});class s{constructor(t=0,i=0){this.x=t,this.y=i}set(t,i){this.x=t,this.y=i}add(t,i=1){this.x+=t.x*i,this.y+=t.y*i}}},8082:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>x});var n=e(7379),a=e(8815),h=e(2159),o=e(3696),r=(e(8642),e(5291)),c=e(1236),l=e(3928),d=e(4227),p=e(1958),m=(e(282),e(360)),u=e(7382),Z=e(7352),g=e(2854),y=t([h,o,r,c,d,p,u,Z,g]);[h,o,r,c,d,p,u,Z,g]=y.then?(await y)():y;class x extends c.Z{static RUN_RANGE=200;constructor(t={},i){super(t),this.stateMachine=this.initializeStateMachine(),this.tookDamage=!1,this.tweenTask=null,this.canTakeDamage=!0,this.damage=10,this.attackRange=50,this.isAI=!0,this.map=i,this.armor=.1*Math.log(2),this.level=0}update(t){super.update(t),this.isCloseToPlayer()&&!this.isDying&&(this.map.champion.position.x<this.position.x?this.direction=l.Z.Left:this.direction=l.Z.Right),this.didCollide&&!this.isDying&&(this.stateMachine.change(a.Z.Idling),this.removeTweenTask(),this.didCollide=!1),this.checkTweenTask()&&this.stateMachine.change(a.Z.Walking)}render(){super.render(),o.eM&&this.abilityHitbox.render(o.Do)}initializeStateMachine(){const t=new n.Z;let i=this.initializeSwordSprites();return t.add(a.Z.Idling,new d.Z(this,this.idleAnimation,!0)),t.add(a.Z.Walking,new r.Z(this,this.walkingAnimation,!0)),t.add(a.Z.Hit,new Z.Z(this,this.hitAnimation)),t.add(a.Z.AbilityCasting,new p.Z(this,this.abilityCastingAnimation,i,!0)),t.add(a.Z.Dying,new g.Z(this,this.deathAnimation)),t.change(a.Z.Idling,new d.Z(this,this.idleAnimation,!0)),t}handleAbilities(){}rollDice(){let t=(0,m.D9)(1,2.5);if(this.isCloseToPlayer()||this.isDying)this.isDying||(t=.5,this.position.y+this.attackRange>this.map.champion.position.y&&this.position.y-this.map.champion.position.y<10&&(this.stateMachine.states[a.Z.Walking]=new r.Z(this,this.walkingAnimation,!0),this.stateMachine.change(a.Z.Walking),this.tweenTask=o.HT.tween(this.position,["x","y"],[this.position.x,this.position.y+2],.1,(()=>{}))),this.stateMachine.change(a.Z.AbilityCasting),this.currentFrame=0);else{let i=(0,m.D9)(1,3);if(1==i)this.stateMachine.change(a.Z.Idling);else if(2==i||3==i){let i=this.randomPositionWithSpeed();t=i[2],i[0]>this.position.x?this.direction=l.Z.Right:this.direction=l.Z.Left,this.stateMachine.states[a.Z.Walking]=new r.Z(this,this.walkingAnimation,!0),this.stateMachine.change(a.Z.Walking),this.tweenTask=o.HT.tween(this.position,["x","y"],[i[0],i[1]],t,(()=>{this.stateMachine.change(a.Z.Idling)}))}}this.isDying||o.HT.wait(t,(()=>{this.rollDice()}))}randomPositionWithSpeed(){let t=(0,m.D9)(this.position.x-x.RUN_RANGE,this.position.x+x.RUN_RANGE),i=(0,m.D9)(this.position.y-x.RUN_RANGE,this.position.y+x.RUN_RANGE);return t<u.Z.LEFT_EDGE+this.dimensions.x||t>u.Z.RIGHT_EDGE-this.dimensions.x||i>u.Z.BOTTOM_EDGE-this.dimensions.y||i<u.Z.TOP_EDGE+this.dimensions.y?this.randomPositionWithSpeed():[t,i,(Math.abs(this.position.x-t)+Math.abs(this.position.y-i))/this.speed]}removeTweenTask(){o.HT.tasks.forEach((t=>{t==this.tweenTask&&(t.isDone=!0)}))}checkTweenTask(){o.HT.tasks.forEach((t=>{if(t==this.tweenTask)return!0}))}isCloseToPlayer(){let t=Math.abs(this.map.champion.position.x-this.position.x),i=Math.abs(this.map.champion.position.y-this.position.y);return t<this.attackRange&&i<this.attackRange}receiveDamage(t){if(this.removeTweenTask(),t*=1-this.armor,super.receiveDamage(t),this.health<=0)return this.changeState(a.Z.Dying),void(this.canTakeDamage=!1)}setArmorRating(t){this.armor*=Math.log(t+1)}getRandomUpgrade(t){for(let i=0;i<t;i++)switch((0,m.D9)(0,2)){case 0:this.health+=10;break;case 1:this.damage+=10;break;case 2:this.speed+=10}this.level=t,console.log(`AI Champions new stats: ${this.health} HP | ${this.damage} damage | ${this.speed} speed | ${this.armor} armor`)}}s()}catch(t){s(t)}}))},8889:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>l});var n=e(2631),a=e(3928),h=e(5008),o=e(6446),r=e(3696),c=t([o,r]);[o,r]=c.then?(await c)():c;class l extends o.Z{static SPEED=50;constructor(t){super(t),this.speed=l.SPEED,this.damage=5,this.health=20;const i={[n.Z.Idling]:{[a.Z.Up]:new h.Z([0,1,2],.2,1),[a.Z.Down]:new h.Z([0,1,2],.2,1),[a.Z.Left]:new h.Z([0,1,2],.2,1),[a.Z.Right]:new h.Z([0,1,2],.2,1)},[n.Z.Walking]:{[a.Z.Up]:new h.Z([0,1,2],.2,1),[a.Z.Down]:new h.Z([0,1,2],.2,1),[a.Z.Left]:new h.Z([0,1,2],.2,1),[a.Z.Right]:new h.Z([0,1,2],.2,1)}};this.stateMachine=this.initializeStateMachine(i),this.nextFrame=!0}render(t,i){this.nextFrame&&(this.nextFrame=!1,r.HT.wait(.1,(()=>{this.currentFrame++,this.nextFrame=!0}))),super.render(t,i)}}s()}catch(t){s(t)}}))},7179:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>p});var n=e(8815),a=e(2159),h=e(8038),o=e(3696),r=e(4227),c=(e(8642),e(9778),e(5291)),l=e(5127),d=t([a,o,r,c]);[a,o,r,c]=d.then?(await d)():d;class p extends a.Z{static DEFAULT_SPEED=100;constructor(t={}){super(t),this.dimensions=new h.Z(a.Z.WIDTH,a.Z.HEIGHT),this.sprites=[],this.stateMachine=null,this.currentAnimation,this.maxHealth=100,this.allowAbility=!0,this.health=this.maxHealth,this.damage=10,this.isDying=!1,this.experience=0,this.xpCost=10,this.canTakeDamage=!0}update(t){super.update(t),this.currentAnimation.update(t),this.stateMachine.currentState.update(t),this.currentFrame=this.currentAnimation.getCurrentFrame()}render(t={x:0,y:0}){const i=this.position.x+t.x,e=this.position.y+t.y;super.render(i,e)}receiveDamage(t){this.canTakeDamage&&!this.isDying&&(this.stateMachine.change(n.Z.Hit),o.jX.play(l.Z.Hit),this.health-=t,this.canTakeDamage=!1),this.isDying&&this.stateMachine.change(n.Z.Dying),o.HT.wait(1,(()=>{this.canTakeDamage=!0}))}resetBooleans(){this.allowAbility=!0,this.health=this.maxHealth,this.isDying=!1,this.canTakeDamage=!0}}s()}catch(t){s(t)}}))},2159:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>l});var n=e(3928),a=e(8347),h=e(8038),o=e(282),r=e(3696),c=t([a,r]);[a,r]=c.then?(await c)():c;class l{static WIDTH=32;static HEIGHT=32;constructor(t={}){this.position=t.position??new h.Z,this.canvasPosition=new h.Z(Math.floor(this.position.x*a.Z.SIZE),Math.floor(this.position.y*a.Z.SIZE)),this.dimensions=t.dimensions??new h.Z,this.direction=t.direction??n.Z.Right,this.stateMachine=null,this.currentFrame=0,this.sprites=[],this.hitbox=new o.Z(this.position.x,this.position.y,this.dimensions.x,this.dimensions.y),this.speed=t.speed??1,this.isDead=!1}update(t){this.stateMachine?.update(t),this.hitbox.set(this.position.x,this.position.y,this.dimensions.x,this.dimensions.y)}render(t,i,e={x:1,y:1}){this.stateMachine?.render(),null==this.sprites[this.currentFrame]&&(this.currentFrame=0),this.sprites[this.currentFrame].render(t,i,e),r.eM&&this.hitbox.render(r.Do)}changeState(t,i){this.stateMachine?.change(t,i)}}s()}catch(t){s(t)}}))},6374:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>l});var n=e(2631),a=e(3928),h=e(5008),o=e(6446),r=e(3696),c=t([o,r]);[o,r]=c.then?(await c)():c;class l extends o.Z{static SPEED=50;static SCALE=2;constructor(t){super(t),this.speed=l.SPEED,this.damage=15,this.health=30,this.dimensions.x*=l.SCALE,this.dimensions.y*=l.SCALE;const i={[n.Z.Idling]:{[a.Z.Up]:new h.Z([0,1,2],.2,1),[a.Z.Down]:new h.Z([0,1,2],.2,1),[a.Z.Left]:new h.Z([0,1,2],.2,1),[a.Z.Right]:new h.Z([0,1,2],.2,1)},[n.Z.Walking]:{[a.Z.Up]:new h.Z([0,1,2],.2,1),[a.Z.Down]:new h.Z([0,1,2],.2,1),[a.Z.Left]:new h.Z([0,1,2],.2,1),[a.Z.Right]:new h.Z([0,1,2],.2,1)}};this.stateMachine=this.initializeStateMachine(i),this.nextFrame=!0}update(t){super.update(t),this.hitbox.set(this.position.x,this.position.y+this.dimensions.y/5,this.dimensions.x,this.dimensions.y/1.5)}render(t,i){this.nextFrame&&(this.nextFrame=!1,r.HT.wait(.1,(()=>{this.currentFrame++,this.nextFrame=!0}))),super.render(t,i,{x:l.SCALE,y:l.SCALE})}}s()}catch(t){s(t)}}))},6446:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>Z});var n=e(360),a=e(7379),h=e(2631),o=e(5127),r=e(3696),c=e(8347),l=e(7382),d=e(2159),p=e(7326),m=e(9146),u=t([r,c,l,d,p,m]);[r,c,l,d,p,m]=u.then?(await u)():u;class Z extends d.Z{static WIDTH=32;static HEIGHT=32;constructor(t){super(),this.sprites=t,this.position.x=(0,n.D9)(l.Z.LEFT_EDGE,l.Z.RIGHT_EDGE-c.Z.SIZE),this.position.y=(0,n.D9)(l.Z.TOP_EDGE,l.Z.BOTTOM_EDGE-c.Z.SIZE),this.dimensions.x=Z.WIDTH,this.dimensions.y=Z.HEIGHT,this.isAI=!0,this.canTakeDamage=!0}receiveDamage(t){this.canTakeDamage&&(this.canTakeDamage=!1,this.health-=t,this.health<=0&&(this.isDead=!0),r.jX.stop(o.Z.Hit),r.jX.play(o.Z.Hit),r.HT.wait(.25,(()=>{this.canTakeDamage=!0})))}initializeStateMachine(t){const i=new a.Z;return i.add(h.Z.Idling,new p.Z(this,t[h.Z.Idling])),i.add(h.Z.Walking,new m.Z(this,t[h.Z.Walking])),i.change(h.Z.Walking),i}}s()}catch(t){s(t)}}))},1236:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>b});var n=e(7379),a=e(8815),h=e(2159),o=e(8038),r=e(3378),c=e(3696),l=e(8642),d=e(5291),p=e(7179),m=e(5008),u=e(3928),Z=e(4227),g=e(1958),y=e(282),x=e(7382),D=e(7352),w=e(2854),S=e(9778),T=e(5127),E=e(8347),f=t([h,c,d,p,Z,g,x,D,w,E]);[h,c,d,p,Z,g,x,D,w,E]=f.then?(await f)():f;class b extends p.Z{constructor(t={}){super(t),this.dimensions=new o.Z(h.Z.WIDTH,h.Z.HEIGHT),this.idleAnimation={[u.Z.Right]:new m.Z([10,11,12,13,14,15,16,17],.2),[u.Z.Left]:new m.Z([30,31,32,33,34,35,36,37],.2)},this.walkingAnimation={[u.Z.Right]:new m.Z([0,1,2,3,4,5,6,7],.1),[u.Z.Left]:new m.Z([20,21,22,23,24,25,26,27],.1)},this.abilityCastingAnimation={[u.Z.Right]:new m.Z([0,1,2,3,4],.1,1),[u.Z.Left]:new m.Z([5,6,7,8,9],.1,1)},this.hitAnimation={[u.Z.Right]:new m.Z([40,41,42,43,44],.1,1),[u.Z.Left]:new m.Z([40,41,42,43,44],.1,1)},this.deathAnimation={[u.Z.Right]:new m.Z([50,51,52,53,54,55,56,57,58,59],.25,1),[u.Z.Left]:new m.Z([50,51,52,53,54,55,56,57,58,59],.25,1)},this.sprites=this.initializeSprites(),this.stateMachine=this.initializeStateMachine(),this.currentAnimation=this.stateMachine.currentState.animation[this.direction],this.abilityHitbox=new y.Z(0,0,0,0,"blue"),this.positionOffset={x:0,y:0},this.allowSword=!0,this.isDead=!1,this.isAI=!1,this.championName=S.Z.Noro,this.dashRange=100,this.abilityCooldown=.15,this.dashCooldown=3}update(t){super.update(t),this.currentAnimation.update(t),this.stateMachine.currentState.update(t),this.currentFrame=this.currentAnimation.getCurrentFrame(),this.stateMachine.currentState.isAI||this.handleAbilities(),this.isDying&&this.stateMachine.change(a.Z.Dying)}render(){super.render(this.positionOffset),c.eM&&this.abilityHitbox.render(c.Do)}initializeStateMachine(){const t=new n.Z;let i=this.initializeSwordSprites();return t.add(a.Z.Idling,new Z.Z(this,this.idleAnimation)),t.add(a.Z.Walking,new d.Z(this,this.walkingAnimation)),t.add(a.Z.Hit,new D.Z(this,this.hitAnimation)),t.add(a.Z.AbilityCasting,new g.Z(this,this.abilityCastingAnimation,i)),t.add(a.Z.Dying,new w.Z(this,this.deathAnimation)),t.change(a.Z.Idling,new Z.Z(this,this.idleAnimation)),t}initializeSprites(){return r.Z.generateSpritesFromSpriteSheet(c.Wc.get(l.Z.NoroSprites),E.Z.SIZE,E.Z.SIZE)}initializeSwordSprites(){return r.Z.generateSpritesFromSpriteSheet(c.Wc.get(l.Z.NoroSword),2*E.Z.SIZE,2*E.Z.SIZE)}handleAbilities(){if(c.XP.e&&this.allowAbility){let t,i,e=Math.abs(this.position.x-c.XP.mousemove.x),s=Math.abs(this.position.y-c.XP.mousemove.y);t=e>this.dashRange?this.position.x<c.XP.mousemove.x?this.position.x+this.dashRange:this.position.x-this.dashRange:c.XP.mousemove.x-this.dimensions.x/2,i=s>this.dashRange?this.position.y<c.XP.mousemove.y?this.position.y+this.dashRange:this.position.y-this.dashRange:c.XP.mousemove.y-this.dimensions.y/2,this.validDashPosition(t,i)?(c.jX.play(T.Z.Dash),c.HT.tween(this.position,["x","y"],[t,i],.1*p.Z.DEFAULT_SPEED/this.speed,(()=>{c.HT.wait(this.dashCooldown,(()=>{this.allowAbility=!0}))})),c.XP.e=!1,this.allowAbility=!1):this.allowAbility=!0}c.XP[" "]&&this.allowSword&&(this.allowSword=!1,c.HT.wait(this.abilityCooldown,(()=>{this.allowSword=!0,this.abilityHitbox.set(0,0,0,0)})),this.stateMachine.change(a.Z.AbilityCasting))}validDashPosition(t,i){return t>x.Z.LEFT_EDGE&&t<x.Z.RIGHT_EDGE&&i>x.Z.TOP_EDGE&&i<x.Z.BOTTOM_EDGE}receiveDamage(t){if(super.receiveDamage(t),this.health<=0)return this.changeState(a.Z.Dying),void(this.canTakeDamage=!1)}}s()}catch(t){s(t)}}))},9778:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Noro:"noro"}},8815:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Idling:"idling",Walking:"walking",AbilityCasting:"abilityCasting",Hit:"hit",Dying:"dying"}},8026:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Black:"black",Blue:"rgb(0,100,255)",Chartreuse:"chartreuse",Crimson:"crimson",DodgerBlue:"dodgerblue",Gold:"gold",Grey:"rgb(100, 110, 150)",Green:"rgb(0, 255, 0)",Red:"rgb(255, 0, 0)",Yellow:"rgb(255, 255, 0)",White:"white"}},3928:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Up:0,Down:1,Left:2,Right:3}},1989:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Joystix:"Joystix",CaesarDressing:"CaesarDressing",Greek:"greek",Aetherius:"Aetherius"}},2408:()=>{},8642:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Tiles:"tiles",Player:"player",BattleBackground:"battle-background",BattlePlatformGrass:"battle-grass",Title:"title",TrainerMay:"trainer-may",NoroSprites:"noro",NoroSword:"noroattack",Monsters:"monsters"}},2631:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Idling:"idling",Walking:"walking"}},3341:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Bat:"bat",MegaBat:"megabat"}},5127:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Main:"mainmusic",SelectionMove:"selectionmove",SelectionChoice:"selectionchoice",Hit:"hit",Dash:"dash"}},8774:(t,i,e)=>{e.d(i,{Z:()=>s});const s={Bat:5,MegaBat:10,Champion:20}},3696:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Do:()=>c,HT:()=>g,JQ:()=>t,Rq:()=>u,Wc:()=>m,XP:()=>p,eM:()=>x,hP:()=>D,j3:()=>Z,jX:()=>y,lf:()=>d,vj:()=>l});var n=e(465),a=e(9595),h=e(5735),o=e(3083),r=e(50);const t=document.createElement("canvas"),c=t.getContext("2d")||new CanvasRenderingContext2D,l=960,d=640,p={},m=new a.Z(c),u=new n.Z,Z=new o.Z,g=new r.Z,y=new h.Z,x=!1,D=await fetch("./config/map.json").then((t=>t.json()));s()}catch(t){s(t)}}),1)},2225:(t,i,e)=>{e.a(t,(async(t,i)=>{try{e(2408);var s=e(7785),n=e(3696),a=e(9204),h=e(6729),o=e(9042),r=e(8038),c=t([n,a,h,o]);[n,a,h,o]=c.then?(await c)():c,n.JQ.width=n.vj,n.JQ.height=n.lf,n.JQ.setAttribute("tabindex","1"),document.body.appendChild(n.JQ);const{images:l,fonts:d,sounds:p}=await fetch("./config/assets.json").then((t=>t.json()));function m(t,i){const e=t.getBoundingClientRect();var s=(i.clientX-e.left)*(t.width/e.width),a=(i.clientY-e.top)*(t.height/e.height);n.XP[i.type]=new r.Z(s,a)}n.Wc.load(l),n.Rq.load(d),n.jX.load(p),n.j3.push(new o.Z),n.JQ.addEventListener("keydown",(t=>{n.XP[t.key]=!0})),n.JQ.addEventListener("keyup",(t=>{n.XP[t.key]=!1})),n.JQ.addEventListener("mousemove",(function(t){n.XP.mousemove=t,m(n.JQ,t)})),new s.Z(n.j3,n.Do,n.JQ.width,n.JQ.height).start(),n.JQ.focus(),i()}catch(u){i(u)}}),1)},6669:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>o});var n=e(282),a=e(8347),h=t([a]);a=(h.then?(await h)():h)[0];class o{static BOTTOM=0;static SHADOW=1;static MIDDLE=2;static COLLISION=3;static TOP=4;constructor(t,i){this.tiles=o.generateTiles(t.data,i),this.width=t.width,this.height=t.height}render(){for(let t=0;t<this.height;t++)for(let i=0;i<this.width;i++)this.getTile(i,t)?.render(i,t)}getTile(t,i){return this.tiles[t+i*this.width]}isTileGrass(t,i){return this.getTile(t,i).id===a.Z.GRASS}static generateTiles(t,i){const e=[];return t.forEach((t=>{const s=-1==--t?null:new a.Z(t,i);e.push(s)})),e}addHitbox(t,i){let e=this.getTile(t,i);if(null!=e)return e.hitbox=new n.Z(t*a.Z.SIZE,i*a.Z.SIZE,a.Z.SIZE,a.Z.SIZE),e.hitbox.isCollidable=!0,e.hitbox}}s()}catch(t){s(t)}}))},7382:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>T});var n=e(8026),a=e(3378),h=e(8038),o=e(1236),r=e(8082),c=e(8642),l=e(8347),d=e(6669),p=e(3696),m=(e(9778),e(8815)),u=e(3793),Z=e(3341),g=e(360),y=e(7179),x=e(6446),D=e(6374),w=e(8774),S=t([o,r,l,d,p,u,y,x,D]);[o,r,l,d,p,u,y,x,D]=S.then?(await S)():S;class T{static LEFT_EDGE=l.Z.SIZE;static RIGHT_EDGE=p.vj-l.Z.SIZE;static TOP_EDGE=2*l.Z.SIZE;static BOTTOM_EDGE=p.lf-2*l.Z.SIZE;static PLAYER_SPAWN=new h.Z(70,323);static AI_SPAWN=new h.Z(850,323);constructor(t,i=null){const e=a.Z.generateSpritesFromSpriteSheet(p.Wc.get(c.Z.Tiles),l.Z.SIZE,l.Z.SIZE);this.bottomLayer=new d.Z(t.layers[d.Z.BOTTOM],e),this.shadowLayer=new d.Z(t.layers[d.Z.SHADOW],e),this.middleLayer=new d.Z(t.layers[d.Z.MIDDLE],e),this.collisionLayer=new d.Z(t.layers[d.Z.COLLISION],e),this.topLayer=new d.Z(t.layers[d.Z.TOP],e),null==i?this.champion=new o.Z({position:T.PLAYER_SPAWN,speed:y.Z.DEFAULT_SPEED},this):(this.champion=i,this.champion.health=i.maxHealth),this.aiChampion=new r.Z({position:T.AI_SPAWN,speed:y.Z.DEFAULT_SPEED},this),this.entities=[],this.entities.push(this.champion),this.entities.push(this.aiChampion),this.objects=[],this.addHitboxes()}update(t){p.HT.updateTasks(t),p.HT.removeFinishedTasks(),this.updateEntities(t),this.cleanUpEntities(),this.objects.forEach((t=>{null!=t&&t.didCollide(this.champion.hitbox)&&t.isCollidable&&t.onCollision(this.champion),null!=t&&t.didCollide(this.aiChampion.hitbox)&&t.isCollidable&&(t.onCollision(this.aiChampion),this.aiChampion.didCollide=!0)}))}render(){this.bottomLayer.render(),this.shadowLayer.render(),this.middleLayer.render(),this.collisionLayer.render(),this.renderEntities(),this.topLayer.render(),p.eM}addHitboxes(){let t=[];for(let i=0;i<p.vj/l.Z.SIZE;i++)for(let e=0;e<p.lf/l.Z.SIZE;e++){let s=this.collisionLayer.addHitbox(i,e);null!=s&&t.push(s)}this.objects=t}static renderGrid(){p.Do.save(),p.Do.strokeStyle=n.Z.White;for(let t=1;t<p.lf/l.Z.SIZE;t++){p.Do.beginPath(),p.Do.moveTo(0,t*l.Z.SIZE),p.Do.lineTo(p.vj,t*l.Z.SIZE),p.Do.closePath(),p.Do.stroke();for(let t=1;t<p.vj/l.Z.SIZE;t++)p.Do.beginPath(),p.Do.moveTo(t*l.Z.SIZE,0),p.Do.lineTo(t*l.Z.SIZE,p.lf),p.Do.closePath(),p.Do.stroke()}p.Do.restore()}addMonsters(t){const i=a.Z.generateSpritesFromSpriteSheet(p.Wc.get(c.Z.Monsters),l.Z.SIZE,l.Z.SIZE),e=Z.Z[(0,g.eC)(Object.keys(Z.Z))];e==Z.Z.MegaBat&&(t=Math.ceil(t/2));for(let s=0;s<t;s++)this.entities.push(u.Z.createInstance(e,i))}renderEntities(){this.entities.forEach((t=>{t.render(t.position.x,t.position.y)}))}updateEntities(t){this.entities.forEach((i=>{i.update(t),i instanceof y.Z&&!(i instanceof r.Z)?i.hitbox.didCollide(this.aiChampion.abilityHitbox)&&(i.isDying||i.receiveDamage(this.aiChampion.damage),this.champion=i):i instanceof y.Z?i.hitbox.didCollide(this.champion.abilityHitbox)&&(i.isDying||i.receiveDamage(this.champion.damage)):i instanceof x.Z&&(i.hitbox.didCollide(this.champion.abilityHitbox)&&i.receiveDamage(this.champion.damage),i.hitbox.didCollide(this.champion.hitbox)&&(this.champion.isDying?this.champion.changeState(m.Z.Dying):this.champion.canTakeDamage&&(this.champion.changeState(m.Z.Hit),this.champion.receiveDamage(i.damage)))),this.champion}))}cleanUpEntities(){this.grantXP(),this.entities=this.entities.filter((t=>!t.isDead)),this.entities=this.entities.filter((t=>null!=t))}grantXP(){let t=0;this.entities.forEach((i=>{i.isAI&&i.isDead&&(i instanceof D.Z?t+=w.Z.MegaBat:i instanceof r.Z?t+=w.Z.Champion+5*i.level:t+=w.Z.Bat)})),this.champion.experience+=t}}s()}catch(t){s(t)}}))},3793:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>r});var n=e(3341),a=e(8889),h=e(6374),o=t([a,h]);[a,h]=o.then?(await o)():o;class r{static createInstance(t,i){switch(t){case n.Z.Bat:return new a.Z(i);case n.Z.MegaBat:return new h.Z(i)}}}s()}catch(t){s(t)}}))},8347:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>h}),e(282);var n=e(3696),a=t([n]);n=(a.then?(await a)():a)[0];class h{static SIZE=32;static GRASS=6;constructor(t,i){this.sprites=i,this.id=t,this.hitbox=null}render(t,i){this.sprites[this.id].render(t*h.SIZE,i*h.SIZE),this.hitbox&&n.eM&&this.hitbox.render(n.Do)}}s()}catch(t){s(t)}}))},6729:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>r});var n=e(9313),a=(e(2408),e(9042)),h=e(3696),o=t([a,h]);[a,h]=o.then?(await o)():o;class r extends n.Z{constructor(){super()}enter(){}update(){h.XP.Enter&&(h.XP.Enter=!1,this.exitGame())}render(){h.Do.save(),h.Do.fillStyle="black",h.Do.fillRect(0,0,h.vj,h.lf),h.Do.font="60px Aetherius",h.Do.fillStyle="crimson",h.Do.textBaseline="middle",h.Do.textAlign="center",h.Do.fillText("Game Over",h.vj/2,h.lf/2),h.Do.font="30px Aetherius",h.Do.fillStyle="white",h.Do.fillText("press enter to continue",h.vj/2,h.lf-40),h.Do.restore()}exitGame(){for(;!(h.j3.top()instanceof a.Z);)h.j3.pop();h.HT.clear()}}s()}catch(t){s(t)}}))},5191:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>l});var n=e(9313),a=e(3696),h=e(3926),o=e(5300),r=(e(2408),e(9042)),c=t([a,h,o,r]);[a,h,o,r]=c.then?(await c)():c;class l extends n.Z{constructor(t){super(),this.round=t;const i=[{text:"Resume",onSelect:()=>this.resume()},{text:"Save",onSelect:()=>this.save()},{text:"Exit",onSelect:()=>this.exitGame()}];this.menu=new h.Z(13.5,8,3,3,i,h.Z.SHOP_MENU),this.saved=!1}enter(){}exit(){}render(){this.menu.render(),this.saved&&(a.Do.save(),a.Do.font="30px Aetherius",a.Do.fillStyle="white",a.Do.textBaseline="middle",a.Do.textAlign="center",a.Do.fillText("Sucessfully Saved!",a.vj/2,a.lf/2+50),a.Do.restore())}update(){this.menu.update(),a.XP.Escape&&(a.XP.Escape=!1,this.resume())}resume(){a.j3.pop()}save(){JSON.safeStringify=(t,i=2)=>{let e=[];const s=JSON.stringify(t,((t,i)=>"object"==typeof i&&null!==i?e.includes(i)?void 0:e.push(i)&&i:i),i);return e=null,s},localStorage.setItem("round",JSON.safeStringify(this.round)),this.saved=!0}exitGame(){for(;!(a.j3.top()instanceof r.Z);)a.j3.pop();a.HT.clear()}}s()}catch(t){s(t)}}))},9204:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>m});var n=e(9313),a=(e(5127),e(9778)),h=e(3696),o=e(7382),r=e(5300),c=e(8082),l=e(1236),d=e(282),p=t([h,o,r,c,l]);[h,o,r,c,l]=p.then?(await p)():p;class m extends n.Z{constructor(t){super(),this.round=t}enter(){if(null!=this.round){let t;this.roundState=new r.Z(this.round.mapDefinition),this.roundState.roundNumber=this.round.roundNumber,this.round.map.champion.championName===a.Z.Noro&&(t=new l.Z),Object.assign(t,this.round.map.champion);let i=new d.Z;Object.assign(i,this.round.map.champion.hitbox),t.stateMachine=t.initializeStateMachine(),t.sprites=t.initializeSprites(),t.hitbox=i,t.resetBooleans(),h.j3.pushWithProperty(this.roundState,t)}else h.j3.push(new r.Z(h.hP))}exit(){}}s()}catch(t){s(t)}}))},5300:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>p});var n=e(9313),a=e(3696),h=e(7382),o=e(6729),r=e(5191),c=e(7755),l=e(7978),d=(e(2408),t([a,h,o,r,c,l]));[a,h,o,r,c,l]=d.then?(await d)():d;class p extends n.Z{constructor(t){super(),this.mapDefinition=t,this.roundNumber=1}enter(t){null!=t&&(t.position.x=70,t.position.y=323),this.map=new h.Z(a.hP,t),this.map.aiChampion.setArmorRating(this.roundNumber+1),this.map.aiChampion.rollDice(),this.map.aiChampion.getRandomUpgrade(this.roundNumber),this.map.addMonsters(this.roundNumber)}exit(){}update(t){this.map.update(t),1!=this.map.entities.length||this.map.entities[0].isAI?this.checkGameOver()&&a.j3.pushWithProperty(new l.Z,{fromState:this,toState:new o.Z}):(this.map.entities[0].experience+=50+5*this.roundNumber,a.j3.push(new c.Z(this.map.entities[0])),this.roundNumber++),a.XP.Escape&&(a.XP.Escape=!1,a.j3.push(new r.Z(this)))}checkGameOver(){let t=!0;return this.map.entities.forEach((i=>{i.isAI||(t=!1)})),t}render(){this.map.render(),a.Do.save(),a.Do.font="32px Aetherius",a.Do.fillStyle="white",a.Do.textBaseline="middle",a.Do.textAlign="center",a.Do.strokeStyle="black",a.Do.lineWidth=.5,a.Do.fillText(`XP: ${this.map.champion.experience}`,a.vj-70,15),a.Do.fillText(`HP: ${this.map.champion.health}/${this.map.champion.maxHealth}`,75,15),a.Do.fillText(`Round ${this.roundNumber}`,a.vj/2,15),a.Do.strokeText(`XP: ${this.map.champion.experience}`,a.vj-70,15),a.Do.strokeText(`HP: ${this.map.champion.health}/${this.map.champion.maxHealth}`,75,15),a.Do.strokeText(`Round ${this.roundNumber}`,a.vj/2,15),a.Do.restore()}}s()}catch(t){s(t)}}))},7755:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>p});var n=e(9313),a=e(3696),h=e(7382),o=e(8323),r=e(3926),c=e(2661),l=e(8855),d=t([a,h,o,r,c,l]);[a,h,o,r,c,l]=d.then?(await d)():d;class p extends n.Z{constructor(t){super(),this.champion=t,this.healthMenuItems=[{text:"Upgrade Health",onSelect:()=>this.addHealth()},{text:"Upgrade Damage",onSelect:()=>this.addDamage()},{text:"Upgrade Speed",onSelect:()=>this.addSpeed()},{text:"Return to Battle!",onSelect:()=>this.exitShop()}],this.menu=new r.Z(8,7,6,5,this.healthMenuItems,r.Z.SHOP_MENU),this.currentStatsMenu=this.currentStats()}addHealth(){this.champion.experience-this.champion.xpCost>=0&&(this.champion.experience-=this.champion.xpCost,this.champion.maxHealth+=10,this.champion.xpCost+=10,this.currentStatsMenu=this.currentStats(),console.log("Health: "+this.champion.maxHealth))}addDamage(){this.champion.experience-this.champion.xpCost>=0&&(this.champion.experience-=this.champion.xpCost,this.champion.damage+=10,this.champion.xpCost+=10,this.currentStatsMenu=this.currentStats(),console.log("Damage: "+this.champion.damage))}addSpeed(){this.champion.experience-this.champion.xpCost>=0&&(this.champion.experience-=this.champion.xpCost,this.champion.speed+=10,this.champion.xpCost+=10,this.currentStatsMenu=this.currentStats(),console.log("Speed: "+this.champion.speed))}exitShop(){a.j3.pop(),a.j3.top().enter(this.champion)}currentStats(){return new l.Z(16,7,9,5,`Current Max Health: ${this.champion.maxHealth}\nCurrent Damage: ${this.champion.damage}\nCurrent Speed: ${this.champion.speed}\nRemaining XP: ${this.champion.experience}\nUpgrade Cost: ${this.champion.xpCost}`,{isAdvanceable:!1,borderColour:"rgba(0, 0, 0, 1)",panelColour:"rgba(74, 74, 74, 0.47)",fontColour:"#FFFFFF"})}enter(){}exit(){}update(t){this.menu.update()}render(){a.Do.save(),this.menu.render(),this.currentStatsMenu.render(),a.Do.restore}}s()}catch(t){s(t)}}))},9042:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>d});var n=e(9313),a=e(3696),h=e(9204),o=e(3926),r=e(7978),c=e(5127),l=t([a,h,o,r]);[a,h,o,r]=l.then?(await l)():l;class d extends n.Z{constructor(){super();const t=[{text:"Play",onSelect:()=>this.play()},{text:"Load",onSelect:()=>this.load()}];this.playState=new h.Z(null),this.menu=new o.Z(a.vj/32/2-2.5,a.lf/32/2,5,5,t,o.Z.TITLE_SCREEN_MENU)}enter(){a.jX.stop(c.Z.Main),a.jX.play(c.Z.Main)}exit(){}update(){this.menu.update()}render(){this.menu.render(),a.Do.save(),a.Do.font="60px Aetherius",a.Do.fillStyle="crimson",a.Do.textBaseline="middle",a.Do.textAlign="center",a.Do.fillText("Arena of Champions",a.vj/2,a.lf/2),a.Do.restore()}play(){a.j3.pushWithProperty(new r.Z,{fromState:this,toState:this.playState})}load(){this.playState=new h.Z(JSON.parse(localStorage.getItem("round"))),a.j3.pushWithProperty(new r.Z,{fromState:this,toState:this.playState})}}s()}catch(t){s(t)}}))},7978:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>o});var n=e(9313),a=e(3696),h=t([a]);a=(h.then?(await h)():h)[0];class o extends n.Z{constructor(){super(),this.transitionAlpha=0,this.currentState=null}enter(t){null!=t&&(this.fromState=t.fromState,this.toState=t.toState,this.currentState=this.fromState,this.transitionAlpha=0,this.fadeOut())}update(t){a.HT.update(t)}render(){this.currentState.render(),a.Do.fillStyle=`rgb(0, 0, 0, ${this.transitionAlpha})`,a.Do.fillRect(0,0,a.vj,a.lf)}fadeOut(){a.HT.tween(this,["transitionAlpha"],[1],1.5,(()=>{this.currentState=this.toState,a.j3.push(this.toState),this.fadeIn()}))}fadeIn(){a.HT.tween(this,["transitionAlpha"],[0],1.5,(()=>{}))}}s()}catch(t){s(t)}}))},1958:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>l});var n=e(9313),a=e(3696),h=e(8815),o=(e(8642),e(3928)),r=e(282),c=t([a]);a=(c.then?(await c)():c)[0];class l extends n.Z{constructor(t,i,e=[],s={}){super(),this.champion=t,this.animation=i,e.length>0&&(this.sprites=e),this.abilityDefinition=s,this.champion.abilityHitbox=new r.Z(0,0,0,0)}enter(){this.champion.positionOffset={x:-this.champion.dimensions.x/2,y:-this.champion.dimensions.y/2},this.champion.sprites=this.sprites,this.champion.currentAnimation=this.animation[this.champion.direction],this.champion.currentFrame=0}exit(){this.champion.positionOffset={x:0,y:0},this.champion.sprites=this.champion.initializeSprites()}update(){this.champion.currentAnimation.isDone()&&(this.champion.currentAnimation.refresh(),this.champion.abilityHitbox.set(0,0,0,0),this.champion.changeState(h.Z.Idling)),this.champion.currentAnimation.isHalfwayDone()&&this.setAbilityHitbox()}setAbilityHitbox(){let t,i,e,s;this.champion.direction===o.Z.Left?(e=this.champion.dimensions.x,s=1.25*this.champion.dimensions.x,t=this.champion.position.x-e/4,i=this.champion.position.y-this.champion.dimensions.y/3):this.champion.direction===o.Z.Right&&(e=this.champion.dimensions.x,s=1.25*this.champion.dimensions.x,t=this.champion.position.x+e/4,i=this.champion.position.y-this.champion.dimensions.y/3),this.champion.abilityHitbox.set(t,i,e,s)}}s()}catch(t){s(t)}}))},7352:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>r});var n=e(9313),a=e(3696),h=e(8815),o=(e(8642),e(3928),e(282),t([a]));a=(o.then?(await o)():o)[0];class r extends n.Z{constructor(t,i){super(),this.champion=t,this.animation=i}enter(){this.champion.currentAnimation=this.animation[this.champion.direction]}update(){this.champion.currentAnimation.isDone()&&(this.champion.currentAnimation.refresh(),this.champion.changeState(h.Z.Idling))}}s()}catch(t){s(t)}}))},2854:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>o});var n=e(9313),a=e(3696),h=(e(8815),e(8642),e(3928),e(282),t([a]));a=(h.then?(await h)():h)[0];class o extends n.Z{constructor(t,i){super(),this.champion=t,this.animation=i}enter(){this.champion.currentAnimation=this.animation[this.champion.direction],this.champion.isDying=!0}update(){this.champion.currentAnimation.isDone()&&(this.champion.isDead=!0)}}s()}catch(t){s(t)}}))},4227:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>l});var n=e(9313),a=e(3696),h=e(8815),o=(e(8642),e(3928)),r=e(282),c=t([a]);a=(c.then?(await c)():c)[0];class l extends n.Z{constructor(t,i,e=!1){super(),this.champion=t,this.animation=i,this.isAI=e}enter(){this.champion.currentAnimation=this.animation[this.champion.direction]}update(){this.champion.currentAnimation=this.animation[this.champion.direction],this.champion.abilityHitbox=new r.Z(0,0,0,0,"blue"),this.isAI||(a.XP.a?this.champion.direction=o.Z.Left:a.XP.d&&(this.champion.direction=o.Z.Right),(a.XP.w||a.XP.s||a.XP.d||a.XP.a)&&this.champion.changeState(h.Z.Walking))}}s()}catch(t){s(t)}}))},5291:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>p});var n=e(9313),a=e(3696),h=e(8815),o=e(2159),r=e(8347),c=e(7382),l=(e(8642),e(3928)),d=t([a,o,r,c]);[a,o,r,c]=d.then?(await d)():d;class p extends n.Z{constructor(t,i,e=!1){super(),this.champion=t,this.animation=i,this.isAI=e}enter(){this.champion.currentAnimation=this.animation[this.champion.direction],this.isAI&&this.aiMovement()}update(t){this.isAI||(this.handleMovement(t),this.champion.handleAbilities())}aiMovement(){}handleMovement(t){this.champion.currentAnimation=this.animation[this.champion.direction],a.XP.s&&(a.XP.d&&a.XP.a||!a.XP.d&&!a.XP.a?this.champion.position.y+=this.champion.speed*t:this.champion.position.y+=this.champion.speed*t/2,this.champion.position.y+this.champion.dimensions.y>=c.Z.BOTTOM_EDGE&&(this.champion.position.y=c.Z.BOTTOM_EDGE-this.champion.dimensions.y)),a.XP.d&&(this.champion.direction=l.Z.Right,this.champion.position.x+=this.champion.speed*t,this.champion.position.x+this.champion.dimensions.x>=c.Z.RIGHT_EDGE&&(this.champion.position.x=c.Z.RIGHT_EDGE-this.champion.dimensions.x)),a.XP.w&&(a.XP.d&&a.XP.a||!a.XP.d&&!a.XP.a?this.champion.position.y-=this.champion.speed*t:this.champion.position.y-=this.champion.speed*t/2,this.champion.position.y<=c.Z.TOP_EDGE-this.champion.dimensions.y&&(this.champion.position.y=c.Z.TOP_EDGE-this.champion.dimensions.y)),a.XP.a&&(this.champion.direction=l.Z.Left,this.champion.position.x-=this.champion.speed*t,this.champion.position.x<=c.Z.LEFT_EDGE&&(this.champion.position.x=c.Z.LEFT_EDGE)),a.XP.s||a.XP.d||a.XP.w||a.XP.a||this.champion.changeState(h.Z.Idling)}}s()}catch(t){s(t)}}))},7326:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>l});var n=e(360),a=e(9313),h=e(6446),o=e(2631),r=e(3696),c=t([h,r]);[h,r]=c.then?(await c)():c;class l extends a.Z{static MOVE_DURATION_MIN=2;static MOVE_DURATION_MAX=6;constructor(t,i){super(),this.monster=t,this.animation=i}enter(){this.monster.currentAnimation=this.animation,this.idleDuration=(0,n.D9)(l.MOVE_DURATION_MIN,l.MOVE_DURATION_MAX),this.startTimer()}update(t){}startTimer(){this.timer=r.HT.wait(this.idleDuration,(()=>this.monster.changeState(o.Z.Walking)))}}s()}catch(t){s(t)}}))},9146:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>p});var n=e(360),a=e(9313),h=e(6446),o=e(3928),r=e(2631),c=e(3696),l=e(7382),d=t([h,c,l]);[h,c,l]=d.then?(await d)():d;class p extends a.Z{static IDLE_CHANCE=.5;static MOVE_DURATION_MIN=2;static MOVE_DURATION_MAX=6;constructor(t,i){super(),this.monster=t,this.animation=i}enter(){this.monster.currentAnimation=this.animation[this.monster.direction],this.reset(),this.startTimer()}update(t){this.move(t)}startTimer(){this.timer=c.HT.wait(this.moveDuration,(()=>this.decideMovement()))}decideMovement(){(0,n.n8)(p.IDLE_CHANCE)?this.monster.changeState(r.Z.Idling):(this.reset(),this.startTimer())}reset(){this.monster.direction=(0,n.eC)([o.Z.Up,o.Z.Down,o.Z.Left,o.Z.Right]),this.monster.currentAnimation=this.animation[this.monster.direction],this.moveDuration=(0,n.D9)(p.MOVE_DURATION_MIN,p.MOVE_DURATION_MAX)}move(t){this.monster.direction===o.Z.Down?(this.monster.position.y+=this.monster.speed*t,this.monster.position.y+this.monster.dimensions.y>l.Z.BOTTOM_EDGE&&(this.monster.position.y=l.Z.BOTTOM_EDGE-this.monster.dimensions.y,this.reset())):this.monster.direction===o.Z.Right?(this.monster.position.x+=this.monster.speed*t,this.monster.position.x+this.monster.dimensions.x>l.Z.RIGHT_EDGE&&(this.monster.position.x=l.Z.RIGHT_EDGE-this.monster.dimensions.x,this.reset())):this.monster.direction===o.Z.Up?(this.monster.position.y-=this.monster.speed*t,this.monster.position.y<l.Z.TOP_EDGE-this.monster.dimensions.y/2&&(this.monster.position.y=l.Z.TOP_EDGE-this.monster.dimensions.y/2,this.reset())):this.monster.direction===o.Z.Left&&(this.monster.position.x-=this.monster.speed*t,this.monster.position.x<l.Z.LEFT_EDGE&&(this.monster.position.x=l.Z.LEFT_EDGE,this.reset()))}}s()}catch(t){s(t)}}))},5676:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>r});var n=e(8038),a=e(1989),h=e(8347),o=t([h]);h=(o.then?(await o)():o)[0];class r{static FONT_SIZE=.65*h.Z.SIZE;static FONT_FAMILY=a.Z.CaesarDressing;constructor(t,i,e,s){this.position=new n.Z(t*h.Z.SIZE,i*h.Z.SIZE),this.dimensions=new n.Z(e*h.Z.SIZE,s*h.Z.SIZE)}}s()}catch(t){s(t)}}))},8323:(t,i,e)=>{e.a(t,(async(t,i)=>{try{var s=e(7345),n=e(2661),a=e(6865),h=t([s,n,a]);[s,n,a]=h.then?(await h)():h,i()}catch(t){i(t)}}))},7345:(t,i,e)=>{e.a(t,(async(t,i)=>{try{var s=e(5676),n=e(3696),a=t([s,n]);[s,n]=a.then?(await a)():a,i()}catch(t){i(t)}}))},3926:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>r});var n=e(7345),a=e(2661),h=e(6865),o=t([n,a,h]);[n,a,h]=o.then?(await o)():o;class r extends a.Z{static TITLE_SCREEN_MENU={borderColour:"rgba(0, 0, 0, 0",panelColour:"rgba(0, 0, 0, 0",fontColour:"#F8F8FF"};static SHOP_MENU={borderColour:"rgba(0, 0, 0, 1)",panelColour:"rgba(74, 74, 74, 0.47)",fontColour:"#FFFFFF"};constructor(t,i,e,s,n,a={}){super(t,i,e,s,a),this.selection=new h.Z(t,i,e,s,n,a)}update(){this.selection.update()}render(){super.render(),this.selection.render()}}s()}catch(t){s(t)}}))},2661:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>c});var n=e(5676),a=e(8026),h=e(1767),o=e(3696),r=t([n,o]);[n,o]=r.then?(await r)():r;class c extends n.Z{static BOTTOM_DIALOGUE={x:0,y:8,width:15,height:3};static TOP_DIALOGUE={x:0,y:0,width:15,height:3};static POKEMON_STATS={x:7.5,y:3.5,width:7,height:7};static BATTLE_PLAYER={x:8,y:5,width:6.5,height:2.5};static BATTLE_OPPONENT={x:1,y:1,width:6.5,height:2};static BATTLE_EXPERIENCE={x:9,y:7,width:6,height:4};static DEFAULT_PADDING=20;static BORDER_WIDTH=10;constructor(t,i,e,s,n={}){super(t,i,e,s),this.borderColour=n.borderColour??a.Z.Grey,this.panelColour=n.panelColour??a.Z.White,this.padding=n.padding??c.DEFAULT_PADDING,this.isVisible=!0}render(){this.isVisible&&(o.Do.save(),this.renderBackground(),this.renderForeground(),o.Do.restore())}renderBackground(){o.Do.fillStyle=this.borderColour,(0,h.b)(o.Do,this.position.x,this.position.y,this.dimensions.x,this.dimensions.y,c.BORDER_WIDTH,!0,!1)}renderForeground(){o.Do.fillStyle=this.panelColour,(0,h.b)(o.Do,this.position.x+c.BORDER_WIDTH/2,this.position.y+c.BORDER_WIDTH/2,this.dimensions.x-c.BORDER_WIDTH,this.dimensions.y-c.BORDER_WIDTH,c.BORDER_WIDTH,!0,!1)}toggle(){this.isVisible=!this.isVisible}}s()}catch(t){s(t)}}))},6865:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>c});var n=e(5676),a=e(5127),h=e(3696),o=e(8038),r=t([n,h]);[n,h]=r.then?(await r)():r;class c extends n.Z{constructor(t,i,e,s,n,a={}){super(t,i,e,s),this.gapHeight=this.dimensions.y/(n.length+1),this.items=this.initializeItems(n),this.currentSelection=0,this.font=this.initializeFont(),this.fontColour=a.fontColour??"#000000"}update(){h.XP.w||h.XP.ArrowUp?this.navigateUp():h.XP.s||h.XP.ArrowDown?this.navigateDown():h.XP.Enter&&this.select()}render(){this.items.forEach(((t,i)=>{this.renderSelectionItem(t,i)}))}renderSelectionItem(t,i){i===this.currentSelection&&this.renderSelectionArrow(t),h.Do.save(),h.Do.textAlign="center",h.Do.textBaseline="middle",h.Do.font=this.font,h.Do.fillStyle=this.fontColour??"#000000",h.Do.fillText(t.text,t.position.x,t.position.y),h.Do.restore()}renderSelectionArrow(t){h.Do.save(),h.Do.translate(this.position.x+10,t.position.y-5),h.Do.beginPath(),h.Do.fillStyle=this.fontColour??"#000000",h.Do.moveTo(0,0),h.Do.lineTo(6,5),h.Do.lineTo(0,10),h.Do.closePath(),h.Do.fill(),h.Do.restore()}navigateUp(){h.XP.w=!1,h.XP.ArrowUp=!1,h.jX.play(a.Z.SelectionMove),0===this.currentSelection?this.currentSelection=this.items.length-1:this.currentSelection--}navigateDown(){h.XP.s=!1,h.XP.ArrowDown=!1,h.jX.play(a.Z.SelectionMove),this.currentSelection===this.items.length-1?this.currentSelection=0:this.currentSelection++}select(){h.XP.Enter=!1,h.XP[" "]=!1,h.jX.play(a.Z.SelectionChoice),this.items[this.currentSelection].onSelect()}initializeItems(t){let i=this.position.y;return t.forEach((t=>{const e=i+this.gapHeight;t.position=new o.Z(this.position.x+this.dimensions.x/2,e),i+=this.gapHeight})),t}initializeFont(){return`${Math.min(n.Z.FONT_SIZE,this.gapHeight)}px ${n.Z.FONT_FAMILY}`}}s()}catch(t){s(t)}}))},8855:(t,i,e)=>{e.a(t,(async(t,s)=>{try{e.d(i,{Z:()=>r});var n=e(8026),a=e(3696),h=e(2661),o=t([a,h]);[a,h]=o.then?(await o)():o;class r extends h.Z{constructor(t,i,e,s,a,o={}){super(t,i,e,s,o),this.fontSize=o.fontSize??h.Z.FONT_SIZE,this.fontColour=o.fontColour??n.Z.Black,this.fontFamily=o.fontFamily??h.Z.FONT_FAMILY,this.isAdvanceable=o.isAdvanceable??!0,this.nextArrowAlpha=1,this.endOfText=!1,this.isClosed=!1,this.pages=this.createPages(a,this.dimensions.x-3*this.padding),this.isAdvanceable&&(this.arrowTimer=this.flashAdvanceableArrow()),this.next()}update(){a.XP.Enter&&(a.XP.Enter=!1,this.next())}render(){super.render(),a.Do.save(),this.renderText(),this.isAdvanceable&&this.renderNextArrow(),a.Do.restore()}renderText(){a.Do.textBaseline="top",a.Do.font=`${this.fontSize}px ${this.fontFamily}`,a.Do.fillStyle=this.fontColour,this.pageToDisplay.forEach(((t,i)=>{a.Do.fillText(t,this.position.x+this.padding,this.position.y+i*this.fontSize+this.padding)}))}renderNextArrow(){a.Do.beginPath(),a.Do.translate(this.position.x+this.dimensions.x-20,this.position.y+this.dimensions.y-15),a.Do.moveTo(0,0),a.Do.lineTo(10,0),a.Do.lineTo(5,5),a.Do.lineTo(0,0),a.Do.globalAlpha=this.nextArrowAlpha,a.Do.fill(),a.Do.closePath()}createPages(t,i){const e=this.getLines(t,i),s=Math.floor((this.dimensions.y-this.padding)/this.fontSize),n=Math.ceil(e.length/s),a=[];for(let t=0;t<n;t++){a.push([]);for(let i=0;i<s&&0!==e.length;i++)a[t][i]=e.splice(0,1)}return a}next(){this.endOfText?(this.toggle(),this.arrowTimer.clear(),this.isClosed=!0):this.nextPage()}nextPage(){this.pageToDisplay=this.pages.splice(0,1)[0],0===this.pages.length&&(this.endOfText=!0)}getLines(t,i){const e=t.split("\n"),s=[];return e.forEach((t=>{const e=t.replace(/\t+/g,"").split(" ");let n=e[0];a.Do.font=`${this.fontSize}px ${this.fontFamily}`;for(let t=1;t<e.length;t++){const h=e[t];a.Do.measureText(n+" "+h).width<i?n+=" "+h:(s.push(n),n=h)}s.push(n)})),s}flashAdvanceableArrow(){return a.HT.addTask((()=>{this.nextArrowAlpha=1===this.nextArrowAlpha?0:1}),.75)}}s()}catch(t){s(t)}}))}},a={};function h(t){var i=a[t];if(void 0!==i)return i.exports;var e=a[t]={exports:{}};return n[t](e,e.exports,h),e.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",i="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},h.a=(n,a,h)=>{var o;h&&((o=[]).d=1);var r,c,l,d=new Set,p=n.exports,m=new Promise(((t,i)=>{l=i,c=t}));m[i]=p,m[t]=t=>(o&&t(o),d.forEach(t),m.catch((t=>{}))),n.exports=m,a((n=>{var a;r=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[t])return n;if(n.then){var a=[];a.d=0,n.then((t=>{h[i]=t,s(a)}),(t=>{h[e]=t,s(a)}));var h={};return h[t]=t=>t(a),h}}var o={};return o[t]=t=>{},o[i]=n,o})))(n);var h=()=>r.map((t=>{if(t[e])throw t[e];return t[i]})),c=new Promise((i=>{(a=()=>i(h)).r=0;var e=t=>t!==o&&!d.has(t)&&(d.add(t),t&&!t.d&&(a.r++,t.push(a)));r.map((i=>i[t](e)))}));return a.r?c:h()}),(t=>(t?l(m[e]=t):c(p),s(o)))),o&&(o.d=0)},h.d=(t,i)=>{for(var e in i)h.o(i,e)&&!h.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},h.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),h(2225)})();